<#include "head.html">      
<ul class="layui-nav layui-nav-tree site-demo-nav">
  
  <li class="layui-nav-item layui-nav-itemed">
    <a class="javascript:;" href="javascript:;">任务管理</a>
    <dl class="layui-nav-child">
      <dd class="">
        <a href="${rc.contextPath}/index.html">WordCount</a>
      </dd>
	  <dd class="layui-this">
        <a href="${rc.contextPath}/list.html">任务列表</a>
      </dd>
    </dl>
  </li>
  
  <li class="layui-nav-item layui-nav-itemed">
    <a class="javascript:;" href="javascript:;">用户管理</a>
    <dl class="layui-nav-child">
      <dd class="">
        <a href="#">用户列表</a>
      </dd>
      <dd class="">
        <a href="#">添加用户</a>
      </dd>
    </dl>
  </li>
    
  <li class="layui-nav-item" style="height: 30px; text-align: center"></li>
</ul>

    </div>
  </div>
    <div class="layui-body layui-tab-content site-demo site-demo-body">
    
    
      <div class="layui-tab-item layui-show">
        <div class="layui-main">
          <div id="LAY_preview">
              
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
  <legend>任务列表</legend>
</fieldset>
 
<table class="layui-hide" id="test" lay-filter="test"></table>
 
          </div>
          
        </div>
        
        
    </div>
  </div>
  <div class="layui-footer footer footer-demo">
  <div class="layui-main">
    <p>&copy; 2018 <a href="/">HPE</a> MIT license</p>
  </div>
</div>
<script src="${rc.contextPath}/static/layui/layui.js" charset="utf-8"></script>
</div>
<script>
layui.use('table', function(){
  var table = layui.table;
  
  table.render({
    elem: '#test'
    ,url:baseUrl+'/task/taskList'
    ,cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
    ,cols: [[
      {field:'taskId', title: 'ID', sort: true}
      ,{field:'taskName', title: '任务名称'}
      ,{field:'createTime', title: '任务创建时间'}
      ,{field:'startTime', title: '任务执行时间'}
      ,{field:'finishTime', title: '任务结束时间'} //minWidth：局部定义当前单元格的最小宽度，layui 2.2.1 新增
      ,{field:'taskType', title: '任务类型'}
      ,{field:'taskStatus', title: '任务状态'}
    ]]
  });
  table.on('row(test)', function(obj){
    var taskId = obj.data.taskId;
	window.location.href = baseUrl+"/result.html?id="+taskId;
  });
});
</script>
</body>
</html>